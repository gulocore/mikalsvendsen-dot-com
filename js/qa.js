(()=>{var r=()=>({init(){this.setupGlobalArrowKeyListener()},setupGlobalArrowKeyListener(){document.addEventListener("keydown",o=>{if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(o.key))return;let e=Array.from(this.$el.querySelectorAll(".qa-item"));if(e.length===0||e.find(d=>d===document.activeElement))return;let t=document.activeElement,s=t&&t.closest(".sidebar"),i=t&&t.closest(".blog-posts-grid"),c=t&&["INPUT","TEXTAREA","SELECT"].includes(t.tagName);if(s||i||c)return;o.preventDefault(),e[0].focus({preventScroll:!0});let u=new KeyboardEvent("keydown",{key:o.key,bubbles:!0,cancelable:!0});this.$el.dispatchEvent(u)})},handleGlobalKeydown(o){let e=Array.from(this.$el.querySelectorAll(".qa-item")),n=e.findIndex(s=>s===document.activeElement);if(n===-1)return;let t;switch(o.key){case"ArrowDown":o.preventDefault(),t=n+1,t>=e.length&&(t=0),this.focusItem(e[t],e);break;case"ArrowUp":o.preventDefault(),t=n-1,t<0&&(t=e.length-1),this.focusItem(e[t],e);break;case"Home":o.preventDefault(),this.focusItem(e[0],e);break;case"End":o.preventDefault(),this.focusItem(e[e.length-1],e);break}},focusItem(o,e){e.forEach(n=>n.setAttribute("tabindex","-1")),o.setAttribute("tabindex","0"),o.focus()}});var a=o=>({open:!1,itemId:o,init(){this.$el.setAttribute("aria-expanded","false"),this.itemId&&(this.$el.setAttribute("aria-labelledby",`qa-question-${this.itemId}`),this.$el.setAttribute("aria-describedby",`qa-answer-${this.itemId}`))},toggle(){this.open=!this.open,this.$el.setAttribute("aria-expanded",this.open.toString()),this.open?this.announceToScreenReader("Expanded"):this.announceToScreenReader("Collapsed")},close(){this.open&&(this.open=!1,this.$el.setAttribute("aria-expanded","false"),this.announceToScreenReader("Collapsed"))},handleKeydown(e){switch(e.key){case"Enter":case" ":e.preventDefault(),e.stopPropagation(),this.toggle();break;case"Escape":e.preventDefault(),e.stopPropagation(),this.unfocus();break}},handleClick(e){let n=this.$el.querySelector(".qa-question"),t=this.$el.querySelector(".qa-answer"),s=n&&n.contains(e.target),i=t&&t.contains(e.target);e.preventDefault(),e.stopPropagation(),this.makeFocusable(),s&&this.toggle()},makeFocusable(){let e=this.$el.closest(".qa-items");e&&(e.querySelectorAll(".qa-item").forEach(t=>t.setAttribute("tabindex","-1")),this.$el.setAttribute("tabindex","0"),this.$el.focus())},unfocus(){let e=this.$el.closest(".qa-items");if(e){let n=e.querySelectorAll(".qa-item");n.forEach(t=>t.setAttribute("tabindex","-1")),n.length>0&&n[0].setAttribute("tabindex","0"),this.$el.blur()}},announceToScreenReader(e){let n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.className="sr-only",n.textContent=e,document.body.appendChild(n),setTimeout(()=>{document.body.removeChild(n)},1e3)},get ariaLabel(){return`Question ${this.itemId}: ${this.open?"expanded":"collapsed"}`}});function l(){typeof window.Alpine<"u"?(window.Alpine.data("qaList",r),window.Alpine.data("qaItem",a),window.qaComponentsReady=!0):setTimeout(l,50)}l();})();
