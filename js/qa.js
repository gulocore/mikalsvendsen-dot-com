(()=>{var r=()=>({init(){this.setupGlobalArrowKeyListener()},setupGlobalArrowKeyListener(){document.addEventListener("keydown",n=>{if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key))return;let e=Array.from(this.$el.querySelectorAll(".qa-item"));if(e.length===0||e.find(d=>d===document.activeElement))return;let t=document.activeElement,o=t&&t.closest(".sidebar"),s=t&&t.closest(".blog-posts-grid"),c=t&&["INPUT","TEXTAREA","SELECT"].includes(t.tagName);if(o||s||c)return;console.log("\u2753 Arrow key pressed outside Q&A grid, focusing first Q&A item"),n.preventDefault(),e[0].focus({preventScroll:!0});let u=new KeyboardEvent("keydown",{key:n.key,bubbles:!0,cancelable:!0});this.$el.dispatchEvent(u)})},handleGlobalKeydown(n){let e=Array.from(this.$el.querySelectorAll(".qa-item")),i=e.findIndex(o=>o===document.activeElement);if(i===-1)return;let t;switch(n.key){case"ArrowDown":n.preventDefault(),t=i+1,t>=e.length&&(t=0),this.focusItem(e[t],e);break;case"ArrowUp":n.preventDefault(),t=i-1,t<0&&(t=e.length-1),this.focusItem(e[t],e);break;case"Home":n.preventDefault(),this.focusItem(e[0],e);break;case"End":n.preventDefault(),this.focusItem(e[e.length-1],e);break}},focusItem(n,e){e.forEach(i=>i.setAttribute("tabindex","-1")),n.setAttribute("tabindex","0"),n.focus({preventScroll:!0}),setTimeout(()=>{let i=n.getBoundingClientRect(),t=window.innerHeight;i.top>=0&&i.bottom<=t||n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},10)}});var l=n=>({open:!1,itemId:n,init(){this.$el.setAttribute("aria-expanded","false"),this.itemId&&(this.$el.setAttribute("aria-labelledby",`qa-question-${this.itemId}`),this.$el.setAttribute("aria-describedby",`qa-answer-${this.itemId}`))},toggle(){this.open=!this.open,this.$el.setAttribute("aria-expanded",this.open.toString()),this.open?this.announceToScreenReader("Expanded"):this.announceToScreenReader("Collapsed")},close(){this.open&&(this.open=!1,this.$el.setAttribute("aria-expanded","false"),this.announceToScreenReader("Collapsed"))},handleKeydown(e){switch(e.key){case"Enter":case" ":e.preventDefault(),e.stopPropagation(),this.toggle();break;case"Escape":e.preventDefault(),e.stopPropagation(),this.unfocus();break}},handleClick(e){let i=this.$el.querySelector(".qa-question"),t=this.$el.querySelector(".qa-answer"),o=i&&i.contains(e.target),s=t&&t.contains(e.target);e.preventDefault(),e.stopPropagation(),this.makeFocusable(),o&&this.toggle()},makeFocusable(){let e=this.$el.closest(".qa-items");e&&(e.querySelectorAll(".qa-item").forEach(t=>t.setAttribute("tabindex","-1")),this.$el.setAttribute("tabindex","0"),this.$el.focus({preventScroll:!0}),setTimeout(()=>{let t=this.$el.getBoundingClientRect(),o=window.innerHeight;t.top>=0&&t.bottom<=o||this.$el.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},10))},unfocus(){let e=this.$el.closest(".qa-items");if(e){let i=e.querySelectorAll(".qa-item");i.forEach(t=>t.setAttribute("tabindex","-1")),i.length>0&&i[0].setAttribute("tabindex","0"),this.$el.blur()}},announceToScreenReader(e){let i=document.createElement("div");i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.className="sr-only",i.textContent=e,document.body.appendChild(i),setTimeout(()=>{document.body.removeChild(i)},1e3)},get ariaLabel(){return`Question ${this.itemId}: ${this.open?"expanded":"collapsed"}`}});console.log("\u{1F4DD} Loading Q&A bundle...");function a(){typeof window.Alpine<"u"?(console.log("\u{1F527} Registering Q&A components..."),window.Alpine.data("qaList",r),window.Alpine.data("qaItem",l),console.log("\u2705 Q&A components registered"),window.qaComponentsReady=!0):(console.warn("\u26A0\uFE0F Alpine.js not yet available, retrying Q&A registration..."),setTimeout(a,50))}a();console.log("\u{1F4DD} Q&A bundle loaded");})();
